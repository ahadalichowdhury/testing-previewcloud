name: Preview Environment
on:
  push:
    branches: [main, staging] # Deploy on push to these branches
  pull_request:
    branches: ["*"] # Deploy on PR to any branch

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Deploy to PreviewCloud
        uses: ahadalichowdhury/previewcloud-action@v1.0.7
        with:
          api-token: ${{ secrets.PREVIEWCLOUD_TOKEN }}
          api-url: https://api.previewcloud.cloud